<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <h1><%= title %></h1>
      <div class="form-group row">
        <label class="col-sm-9 col-form-label"></label>
        <a class="btn btn-primary col-sm-3" href="/servicerequest" role="button">New Service Request</a>
      </div>

      <% if (servicerequest) { %>
      <form>
        <div class="form-group row">
          <label for="id" class="col-sm-2 col-form-label">id</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="id" readonly value="<%= servicerequest.id %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="requisition-value" class="col-sm-2 col-form-label">requistion</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="requisition-value" readonly value="<%= servicerequest.requisition.value %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="status" class="col-sm-2 col-form-label">status</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="status" readonly value="<%= servicerequest.status %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="intent" class="col-sm-2 col-form-label">intent</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="intent" readonly value="<%= servicerequest.intent %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="category" class="col-sm-2 col-form-label">category</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="category" readonly value='<%= servicerequest.category[0].coding[0].code %> "<%= servicerequest.category[0].coding[0].display %>"'>
          </div>
        </div>
        <div class="form-group row">
          <label for="code" class="col-sm-2 col-form-label">code</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="code" readonly value='<%= servicerequest.code.coding[0].code %> "<%= servicerequest.code.coding[0].display %>"'>
          </div>
        </div>
        <div class="form-group row">
          <label for="subject" class="col-sm-2 col-form-label">subject</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="subject" readonly value="<%= servicerequest.subject.reference %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="authoredOn" class="col-sm-2 col-form-label">authoredOn</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="authoredOn" readonly value="<%= servicerequest.authoredOn %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="requester" class="col-sm-2 col-form-label">requester</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="requester" readonly value="<%= servicerequest.requester.reference %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="performerType" class="col-sm-2 col-form-label">performerType</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="performerType" readonly value="<%= servicerequest.performerType.coding[0].display %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="reasonCode" class="col-sm-2 col-form-label">reasonCode</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="reasonCode" readonly value="<%= servicerequest.reasonCode ? servicerequest.reasonCode[0].coding[0].display : '' %>">
          </div>
        </div>
      </form>
      <div class="mb-4 form-group row">
        <label class="col-sm-2 col-form-label"></label>
        <a class="btn btn-primary col-sm-3" href="/task?servicerequest_id=<%=servicerequest.id %>" role="button">Request Fulfilment Task</a>
      </div>

      <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button colapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              JSON
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <pre><%= JSON.stringify(servicerequest, null, 2) %></pre>
            </div>
          </div>
        </div>
      </div>

      <% } else { %>
        <div class="mb-2 row">
          <label class="col-sm col-form-label">Resource not found</label>
        </div>
      <% } %>

    </div> <!-- container -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  </body>
</html>
