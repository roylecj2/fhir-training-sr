<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <h1><%= title %></h1>

      <% if (task) { %>
      <form>
        <div class="form-group row">
          <label for="id" class="col-sm-2 col-form-label">id</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="id" readonly value="<%= task.id %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="groupIdentifier-value" class="col-sm-2 col-form-label">requistion</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="groupIdentifier-value" readonly value="<%= task.groupIdentifier.value %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="status" class="col-sm-2 col-form-label">status</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="status" readonly value="<%= task.status %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="intent" class="col-sm-2 col-form-label">intent</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="intent" readonly value="<%= task.intent %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="code" class="col-sm-2 col-form-label">code</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="code" readonly value='<%= task.code.coding[0].code %> "<%= task.code.coding[0].display %>"'>
          </div>
        </div>
        <div class="form-group row">
          <label for="description" class="col-sm-2 col-form-label">description</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="description" readonly value="<%= task.description %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="focus" class="col-sm-2 col-form-label">focus</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="focus" readonly value="<%= task.focus.reference %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="for" class="col-sm-2 col-form-label">for</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="for" readonly value="<%= task.for.reference %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="authoredOn" class="col-sm-2 col-form-label">authoredOn</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="authoredOn" readonly value="<%= task.authoredOn %>">
          </div>
        </div>
        <div class="form-group row">
          <label for="requester" class="col-sm-2 col-form-label">requester</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="requester" readonly value="<%= task.requester.reference %>">
          </div>
        </div>        
        <div class="form-group row">
          <label for="performerType" class="col-sm-2 col-form-label">performerType</label>
          <div class="col-sm-10">
            <% if (task.performerType) { %>
            <input type="text" class="form-control-plaintext" id="performerType" readonly value="<%= task.performerType[0].coding[0].display %>">
            <% } %>
          </div>
        </div>
        <div class="form-group row">
          <label for="owner" class="col-sm-2 col-form-label">owner</label>
          <div class="col-sm-10">
            <input type="text" class="form-control-plaintext" id="owner" readonly value="<%= task.owner.reference %>">
          </div>
        </div>
      </form>

      <div class="mb-4 form-group row">
        <label class="col-sm-2 col-form-label"></label>
        <a class="btn btn-primary col-sm-3" href="/<%= task.focus.reference.toLowerCase() %>" role="button">View Service Request</a>
      </div>

      <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button colapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              JSON
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <pre><%= JSON.stringify(task, null, 2) %></pre>
            </div>
          </div>
        </div>
      </div>

    <% } else { %>
        <div class="mb-2 row">
          <label class="col-sm col-form-label">Resource not found</label>
        </div>

      <% } %>

    </div> <!-- container -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  </body>
</html>
